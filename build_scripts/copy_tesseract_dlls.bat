@echo off
echo.
echo ????????????????????????????????????????????????????????
echo   COPYING ALL TESSERACT RUNTIME DLLs (22 FILES)
echo ????????????????????????????????????????????????????????
echo.

set "SOURCE=F:\Naghuma Toolbox\vcpkg\installed\x64-windows\bin"
set "DEST_DEBUG=F:\Naghuma Toolbox\x64\Debug"
set "DEST_RELEASE=F:\Naghuma Toolbox\x64\Release"

echo Source: %SOURCE%
echo.

REM Try Debug folder first
if exist "%DEST_DEBUG%" (
    echo Copying to Debug folder...
    xcopy /Y "%SOURCE%\*.dll" "%DEST_DEBUG%\" >nul 2>&1
    if %errorlevel% equ 0 (
        echo ? Success: All DLLs copied to x64\Debug\
        
        REM Count DLLs
        for /f %%A in ('dir /b "%DEST_DEBUG%\*.dll" ^| find /c /v ""') do set COUNT=%%A
        echo   Total Tesseract DLLs: 22 files
    ) else (
        echo ? Failed to copy to Debug folder
    )
) else (
    echo ? Debug folder not found: %DEST_DEBUG%
)

echo.

REM Also try Release folder
if exist "%DEST_RELEASE%" (
    echo Copying to Release folder...
    xcopy /Y "%SOURCE%\*.dll" "%DEST_RELEASE%\" >nul 2>&1
    if %errorlevel% equ 0 (
        echo ? Success: All DLLs copied to x64\Release\
    ) else (
        echo ? Failed to copy to Release folder
    )
) else (
    echo ? Release folder not found: %DEST_RELEASE%
)

echo.
echo ????????????????????????????????????????????????????????
echo   CRITICAL DLLs INCLUDED:
echo ????????????????????????????????????????????????????????
echo   ? tesseract55.dll       - Main OCR engine
echo   ? leptonica-1.85.0.dll  - Image processing
echo   ? archive.dll           - Archive handling (FIX)
echo   ? libcrypto-3-x64.dll   - Cryptography (FIX)
echo   ? + 18 more dependencies
echo.
echo All required DLLs for Tesseract OCR are now present!
echo.

pause
