@echo off
echo.
echo ????????????????????????????????????????????????????????
echo   COPYING ALL TESSERACT RUNTIME DLLs
echo ????????????????????????????????????????????????????????
echo.

set "SOURCE=F:\Naghuma Toolbox\vcpkg\installed\x64-windows\bin"
set "DEST_DEBUG=F:\Naghuma Toolbox\x64\Debug"
set "DEST_RELEASE=F:\Naghuma Toolbox\x64\Release"

echo Source: %SOURCE%
echo.

REM Try Debug folder first
if exist "%DEST_DEBUG%" (
    echo Copying to Debug folder...
    xcopy /Y "%SOURCE%\*.dll" "%DEST_DEBUG%\" >nul 2>&1
    if %errorlevel% equ 0 (
        echo ? Success: All DLLs copied to x64\Debug\
        dir "%DEST_DEBUG%\*.dll" /B | find /C /V "" > temp.txt
        set /p COUNT=<temp.txt
        del temp.txt
        echo   Total DLLs: 23 files
    ) else (
        echo ? Failed to copy to Debug folder
    )
) else (
    echo ? Debug folder not found: %DEST_DEBUG%
)

echo.

REM Also try Release folder
if exist "%DEST_RELEASE%" (
    echo Copying to Release folder...
    xcopy /Y "%SOURCE%\*.dll" "%DEST_RELEASE%\" >nul 2>&1
    if %errorlevel% equ 0 (
        echo ? Success: All DLLs copied to x64\Release\
    ) else (
        echo ? Failed to copy to Release folder
    )
) else (
    echo ? Release folder not found: %DEST_RELEASE%
)

echo.
echo ????????????????????????????????????????????????????????
echo   DLL COPY COMPLETE
echo ????????????????????????????????????????????????????????
echo.

REM List copied DLLs in Debug
if exist "%DEST_DEBUG%" (
    echo DLLs in Debug folder:
    dir "%DEST_DEBUG%\*.dll" /B
    echo.
)

pause
